{"version":3,"sources":["images/logo.png","images/spinner.svg","utils/user-distance.js","api/urls.js","api/api.js","components/app/app.js","utils/user-coordinates.js","components/bubble-map/bubble-map.js","components/world-map/world-map.js","serviceWorker.js","index.js"],"names":["module","exports","getUserDistance","userCoordinates","latitude","longitude","p","c","Math","cos","a","round","asin","sqrt","Number","EPSILON","getToken","axios","url","api","method","response","data","token","console","error","getData","headers","Accept","errorStatus","status","log","App","useState","apiToken","setApiToken","apiData","setApiData","setUserCoordinates","processedApiData","setProcessedApiData","isLoading","setIsLoading","isMapToggled","setIsMapToggled","useEffect","Promise","resolve","reject","navigator","geolocation","getCurrentPosition","then","position","coords","catch","message","coffeeShopsData","length","forEach","coffeeShop","distance","x","y","sort","b","index","push","label","name","split","pop","parseFloat","color","customTooltip","value","className","src","spinner","alt","logo","onChange","checked","BubbleMap","props","width","window","innerWidth","height","innerHeight","padding","showLegend","showValue","showAnimations","labelFont","family","size","weight","overflow","WorldMap","animateBullet","useCallback","circle","animate","property","from","to","am4core","circleOut","events","on","event","target","object","am4themes_dark","chart","am4maps","geodata","am4geodata_worldLow","projection","Miller","seriesContainer","draggable","resizable","maxZoomLevel","polygonSeries","series","exclude","useGeodata","polygonTemplate","mapPolygons","template","tooltip","interactionsEnabled","states","create","properties","fill","colors","getIndex","imageSeries","mapImages","propertyFields","tooltipText","createChild","radius","circle2","dispose","id","style","Boolean","location","hostname","match","ReactDOM","render","document","getElementById","serviceWorker","ready","registration","unregister"],"mappings":"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","file":"static/js/main.6ebba2d1.chunk.js","sourcesContent":["module.exports = \"data:image/png;base64,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RRy1CkWoEGqFVh1MLv2CJg1Jiouj4Fpw8GOx6uDirKuDqyAIfoA4OTopukiJ/0sKLWI9OO7Hu3uPu3eAUC0yzWobBzTdNhOxqJhKr4qBV3RCQC/6MSYzy5iTpDhajq97+Ph6F+FZrc/9ObrVjMUAn0g8ywzTJt4gnt60Dc77xCGWl1Xic+JRky5I/Mh1xeM3zjmXBZ4ZMpOJeeIQsZhrYqWJWd7UiKeIw6qmU76Q8ljlvMVZK5ZZ/Z78hcGMvrLMdZpDiGERS5AgQkEZBRRhI0KrToqFBO1HW/gHXb9ELoVcBTByLKAEDbLrB/+D391a2ckJLykYBdpfHOdjGAjsArWK43wfO07tBPA/A1d6w1+qAjOfpFcaWvgI6NkGLq4bmrIHXO4AA0+GbMqu5KcpZLPA+xl9UxrouwW61rze6vs4fQCS1FX8Bjg4BEZylL3e4t0dzb39e6be3w9cQHKe4eX/WQAAAu5QTFRFG7R/AAAAAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKngAKng////VY3IiQAAAAF0Uk5TAEDm2GYAAAABYktHRACIBR1IAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAB3RJTUUH5AkCERoH1bX/8QAABIdJREFUeNrt2NEJgDAQBcGQ/ou2hIBfye1sCfcGUdeSJEmSJEmSJEmSJEmSJEmS7m7v7Qjt/Qmo709AHgAB8f0JyAMgAAClARBQB0BAHQABdQAI5AEgkAeAAAEYAEABAKfcjgClBThdXIDLtQ24WtyAk7UtOFMbgQu1BbhPFoDLRAU4iCRJUvaN0CXinwOuEf8Z4CTV5QGwPgDt7QEwPwAACAABIAAEgAAQAAJAAAgAAaDh+wMAgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAA6HkBbgSAABAAAkAACAABIAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAemp/AAAQAAJAAAgAASAABIAAEAAavz8AdQAEAKA0AALi+wMAgNIACIjvD0AdAAEAqLw/AXkABMT3JyAPgIA6AALi+xNQ3x8BAAiI78+A/RHI788AABDYnwL7M2B/BuyPgP0RsD8B9fkRsD8C9fkJyO9PQHx+AvL7E9Ben4D8/AjYn4D2+gTU1ycgPz8A7fUJqK9PgP0JaK9PQH5+AOr7ExCfn4D6/ADU9yegvj8B9f0BiO9PQH1/Aur7AxDfH4D4/gTkARAQ3x+AOgAC4vsDAIDK+xOQB0BAfH8AAFAaAAEAqLw/AHUABACgNAAC4vsDAIAAUBcAAQAoDYAAAFTeH4A6AAIAEAACQFEABACgNAACABAAAkDN/QkAQAAIAAEgAASAWvsTAIAAEACqAiAAAAEgAASAABAAAkAACAABoPH7AwCAABAAAkAAKAeAAAAEgAAQAAJAAAgAASAABIAAEAACQAAIAAEgAASAABAAAkAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAAAAAAAAQAAAAABgfwAAAIAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACAAAAAAAAAAAAAAAAAAAADAfAAIAAEgABQUYD0ABICqAIwHgABQVoDtABAAAkAACAABIAAEgAAQABovwHQACAABoCQAywGgsgDDASAABIAAEAACQACoI8BuAAgAASAABIAAEAACQA0BVgNAACgrwGgACAABIAAEgAAQAOoIsBkAAkAACAABoBgAk8UFWAwAASAA1BRgMAAUBmAvAASAABAACgowFwACQACoKcBabQDGAkAACAA1BdgKAAEgAASAAFAMgKniAiwFgMIADBUXYCcABIAAEAACQDUBZgJAAAgAJQFYCQCVBRgJAJUF2AgAAaAqABMBIABUBWChuAADASAAlBVgnzYA8wCgMADrAKCyAOMAoDAA2wAgAFQFYBoAFBZgGAAUFmAWABQGYJU2AKMAoC4Ak7QFGCQNwBxpAbZICzBEm4AVygIskCbg+mkDDl9m4N5lBs5cRuC+YQlOOkHELzluF356OIYkSZIkSZIkSZIkSZIkSZIkSZIk6aI+O6jgktrcej8AAAAASUVORK5CYII=\"","module.exports = __webpack_public_path__ + \"static/media/spinner.1170a918.svg\";","export function getUserDistance(userCoordinates, latitude, longitude) {\n    if (userCoordinates.latitude) {\n        var p = 0.017453292519943295; // Math.PI / 180\n        var c = Math.cos;\n        var a =\n            0.5 -\n            c((latitude - userCoordinates.latitude) * p) / 2 +\n            (c(userCoordinates.latitude * p) *\n                c(latitude * p) *\n                (1 - c((longitude - userCoordinates.longitude) * p))) /\n                2;\n        return Math.round((12742 * Math.asin(Math.sqrt(a)) + Number.EPSILON) * 100) / 100; // 2 * R; R = 6371 km\n    } else {\n        return false;\n    }\n}\n","const blueBottleAPI = 'https://blue-bottle-api-test.herokuapp.com/v1';\n\nexport default {\n    apiURL: blueBottleAPI,\n};\n","import axios from 'axios';\nimport api from './urls.js';\n\nexport default {\n    getToken: async () => {\n        try {\n            const response = await axios({\n                url: `${api.apiURL}/tokens`,\n                method: 'post',\n            });\n            return response.data.token;\n        } catch (error) {\n            console.error(error);\n        }\n    },\n    getData: async (token) => {\n        try {\n            const response = await axios({\n                url: `${api.apiURL}/coffee_shops?token=${token}`, //apiToken}`,\n                method: 'get',\n                headers: {\n                    Accept: 'application/json',\n                },\n            });\n            return response.data;\n        } catch (error) {\n            const errorStatus = error.response.data.status;\n            switch (errorStatus) {\n                case 401:\n                    console.log('401: Token invalid.');\n                    break;\n                case 406:\n                    console.log('406: Unacceptable Accept format.');\n                    break;\n                case 503:\n                    console.log('503: Service Unavailable');\n                    break;\n                case 504:\n                    console.log('504: Timeout.');\n                    break;\n                default:\n                    console.log('Unprocessed HTTP status code: ', errorStatus);\n            }\n        }\n    },\n};\n","import React, { useState, useEffect } from 'react';\nimport Switch from 'react-switch';\nimport { BubbleMap, WorldMap } from '../';\nimport { getUserDistance, getUserCoordinates } from '../../utils/';\nimport api from '../../api/api.js';\nimport logo from '../../images/logo.png';\nimport spinner from '../../images/spinner.svg';\nimport './app.css';\n\nconst coffeeShopsShownOnBubbleMap = 3;\nconst coffeeShopsShownOnWorldMap = 6;\nconst coffeeShopNameDelimiter = 'Blue Bottle ';\n\nfunction App() {\n    const [apiToken, setApiToken] = useState('');\n    const [apiData, setApiData] = useState([]);\n    const [userCoordinates, setUserCoordinates] = useState({});\n    const [processedApiData, setProcessedApiData] = useState([]);\n    const [isLoading, setIsLoading] = useState(true);\n    const [isMapToggled, setIsMapToggled] = useState(false);\n\n    // Get API Data & User coordinates\n    useEffect(() => {\n        getUserCoordinates()\n            .then((position) => {\n                setUserCoordinates({\n                    latitude: position.coords.latitude,\n                    longitude: position.coords.longitude,\n                });\n            })\n            .catch((error) => {\n                console.error(error.message);\n            });\n        api.getToken()\n            .then((token) => {\n                setApiToken(token);\n                api.getData(token).then((data) => {\n                    setApiData(data);\n                });\n            })\n            .catch((error) => {\n                console.error(error);\n            });\n    }, []);\n\n    // Process API Data & User coordinates\n    useEffect(() => {\n        if (apiData && userCoordinates.latitude && userCoordinates.longitude) {\n            let coffeeShopsData = [];\n\n            if (apiData.length > 0) {\n                apiData.forEach((coffeeShop) => {\n                    coffeeShop.distance = getUserDistance(\n                        userCoordinates,\n                        coffeeShop.x,\n                        coffeeShop.y\n                    );\n                });\n                apiData.sort((a, b) => (a.distance > b.distance ? 1 : -1));\n                apiData.forEach((coffeeShop, index) => {\n                    index <\n                        (isMapToggled ? coffeeShopsShownOnWorldMap : coffeeShopsShownOnBubbleMap) &&\n                        coffeeShopsData.push({\n                            label: coffeeShopNameDelimiter\n                                ? coffeeShop.name.split(coffeeShopNameDelimiter).pop()\n                                : coffeeShop.name,\n                            latitude: parseFloat(coffeeShop.x),\n                            longitude: parseFloat(coffeeShop.y),\n                            color: '#009ED9',\n                            customTooltip: `${getUserDistance(\n                                userCoordinates,\n                                coffeeShop.x,\n                                coffeeShop.y\n                            )} km`,\n                            value: 1,\n                        });\n                });\n                coffeeShopsData.push({\n                    label: 'User',\n                    latitude: userCoordinates.latitude,\n                    longitude: userCoordinates.longitude,\n                    color: 'red',\n                    value: 1,\n                });\n            }\n            setProcessedApiData(coffeeShopsData);\n        }\n    }, [\n        apiData,\n        isMapToggled,\n        userCoordinates,\n        userCoordinates.latitude,\n        userCoordinates.longitude,\n    ]);\n\n    // Set isLoading to false if all data is loaded\n    useEffect(() => {\n        if (apiToken && apiData && userCoordinates.latitude && userCoordinates.longitude) {\n            setIsLoading(false);\n        }\n    }, [apiData, apiToken, userCoordinates.latitude, userCoordinates.longitude]);\n\n    const handleMapToggle = (checked) => {\n        setIsMapToggled(checked);\n    };\n\n    return isLoading ? (\n        <div className=\"spinnerWrapper\">\n            <img src={spinner} className=\"spinner\" alt=\"spinner\" />\n        </div>\n    ) : (\n        <div className=\"app\">\n            <header className=\"header\">\n                <img src={logo} className=\"logo\" alt=\"logo\" />\n                <div>\n                    <span>Coffee Shop Finder Map </span>\n                    <Switch onChange={handleMapToggle} checked={isMapToggled} />\n                </div>\n            </header>\n            <div className=\"main\">\n                {isMapToggled ? (\n                    <WorldMap data={processedApiData} />\n                ) : (\n                    <BubbleMap data={processedApiData} />\n                )}\n            </div>\n        </div>\n    );\n}\n\nexport default App;\n","export function getUserCoordinates() {\n    return new Promise(function (resolve, reject) {\n        navigator.geolocation.getCurrentPosition(resolve, reject);\n    });\n}\n","import React from 'react';\nimport BubbleChart from '@weknow/react-bubble-chart-d3';\nimport './bubble-map.css';\n\nfunction BubbleMap(props) {\n    return (\n        <BubbleChart\n            width={window.innerWidth > 700 ? 700 : window.innerWidth}\n            height={window.innerHeight}\n            padding={window.innerWidth < 400 ? 10 : 200}\n            showLegend={false}\n            showValue={false}\n            showAnimations={false}\n            labelFont={{\n                family: 'Arial',\n                size: 16,\n                color: '#fff',\n                weight: 'bold',\n            }}\n            data={props.data}\n            overflow={true}></BubbleChart>\n    );\n}\n\nexport default BubbleMap;\n","import React, { useEffect, useCallback } from 'react';\nimport * as am4core from '@amcharts/amcharts4/core';\nimport * as am4maps from '@amcharts/amcharts4/maps';\nimport am4themes_dark from '@amcharts/amcharts4/themes/dark';\nimport am4geodata_worldLow from '@amcharts/amcharts4-geodata/worldLow';\n\nfunction WorldMap(props) {\n    const animateBullet = useCallback((circle) => {\n        let animation = circle.animate(\n            [\n                { property: 'scale', from: 1, to: 5 },\n                { property: 'opacity', from: 1, to: 0 },\n            ],\n            1000,\n            am4core.ease.circleOut\n        );\n        animation.events.on('animationended', function (event) {\n            animateBullet(event.target.object);\n        });\n    }, []);\n    useEffect(() => {\n        am4core.useTheme(am4themes_dark);\n        let chart = am4core.create('world-map', am4maps.MapChart);\n        am4core.ready(function () {\n            chart.geodata = am4geodata_worldLow;\n            chart.projection = new am4maps.projections.Miller();\n            chart.seriesContainer.draggable = false;\n            chart.seriesContainer.resizable = false;\n            chart.maxZoomLevel = 1;\n\n            let polygonSeries = chart.series.push(new am4maps.MapPolygonSeries());\n            polygonSeries.exclude = ['AQ'];\n            polygonSeries.useGeodata = true;\n\n            let polygonTemplate = polygonSeries.mapPolygons.template;\n            polygonTemplate.tooltip = false;\n            polygonTemplate.interactionsEnabled = false;\n\n            let hs = polygonTemplate.states.create('hover');\n            hs.properties.fill = chart.colors.getIndex(0);\n\n            let imageSeries = chart.series.push(new am4maps.MapImageSeries());\n            imageSeries.mapImages.template.propertyFields.longitude = 'longitude';\n            imageSeries.mapImages.template.propertyFields.latitude = 'latitude';\n            imageSeries.mapImages.template.tooltipText = `[bold]{label}[/]\\n{customTooltip}`;\n\n            let circle = imageSeries.mapImages.template.createChild(am4core.Circle);\n            circle.radius = 5;\n            circle.propertyFields.fill = 'color';\n\n            let circle2 = imageSeries.mapImages.template.createChild(am4core.Circle);\n            circle2.radius = 5;\n            circle2.propertyFields.fill = 'color';\n\n            circle2.events.on('inited', function (event) {\n                animateBullet(event.target);\n            });\n\n            imageSeries.data = props.data !== [] && props.data;\n        });\n        return () => {\n            chart.dispose();\n        };\n    }, [animateBullet, props.data]);\n\n    return (\n        <div\n            id=\"world-map\"\n            style={{\n                height: window.innerHeight,\n            }}></div>\n    );\n}\n\nexport default WorldMap;\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport { App } from './components';\nimport * as serviceWorker from './serviceWorker';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();\n"],"sourceRoot":""}